Version 4
SHEET 1 1916 680
WIRE 944 -320 672 -320
WIRE 1056 -320 944 -320
WIRE 1760 -320 1392 -320
WIRE 944 -256 944 -320
WIRE 1392 -256 1392 -320
WIRE 1760 -256 1760 -320
WIRE -144 -128 -240 -128
WIRE 16 -128 -80 -128
WIRE 176 -128 16 -128
WIRE 416 -128 176 -128
WIRE 1760 -128 1760 -176
WIRE 944 -112 944 -176
WIRE 1392 -112 1392 -176
WIRE -240 -80 -240 -128
WIRE 16 -64 16 -128
WIRE 16 -64 -48 -64
WIRE 16 -48 16 -64
WIRE 176 -48 176 -128
WIRE -48 -32 -48 -64
WIRE 1760 0 1760 -48
WIRE 944 32 944 -32
WIRE -48 64 -48 32
WIRE 16 64 16 32
WIRE 16 64 -48 64
WIRE 16 80 16 64
WIRE 64 80 16 80
WIRE 176 96 176 16
WIRE 368 96 176 96
WIRE 416 96 368 96
WIRE 16 128 16 80
WIRE 16 128 -112 128
WIRE 368 128 368 96
WIRE 1760 128 1760 80
WIRE -112 160 -112 128
WIRE 176 160 176 96
WIRE 944 160 944 112
WIRE 16 176 16 128
WIRE 64 240 64 80
WIRE 128 240 64 240
WIRE -352 288 -352 272
WIRE -240 288 -240 0
WIRE -112 288 -112 224
WIRE -112 288 -240 288
WIRE 16 288 16 240
WIRE 16 288 -112 288
WIRE 176 288 176 256
WIRE 176 288 16 288
WIRE 368 288 368 208
WIRE 368 288 176 288
WIRE 944 288 944 240
WIRE 944 288 672 288
WIRE 1056 288 944 288
WIRE -240 336 -240 288
FLAG -240 336 0
FLAG 672 -320 Motor_+ve
FLAG 672 288 Motor_-ve
FLAG 1392 -112 0
FLAG 1760 128 0
FLAG 416 -128 Motor_+ve
FLAG 416 96 Motor_-ve
SYMBOL res 0 -64 R0
SYMATTR InstName R2
SYMATTR Value 510k
SYMBOL voltage -240 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -448 50 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(0 17 1 0.005 0.005 50 500 1)
SYMBOL cap 32 240 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C2
SYMATTR Value 330e-6
SYMBOL nmos 128 160 R0
SYMATTR InstName M1
SYMATTR Value STP16NF06
SYMATTR Prefix X
SYMBOL ind 928 -272 R0
SYMATTR InstName L1
SYMATTR Value 1m
SYMBOL diode 192 16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value uf5406
SYMBOL diode -32 32 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value uf5406
SYMBOL ind 1744 -272 R0
SYMATTR InstName Inertia
SYMATTR Value 5m
SYMBOL res 1744 -144 R0
SYMATTR InstName RLoss
SYMATTR Value 4m
SYMBOL voltage 1760 -16 R0
SYMATTR InstName VSense_2
SYMATTR Value 0
SYMBOL bv 944 16 R0
SYMATTR InstName B1
SYMATTR Value V=I(VSense_2)*K_emf
SYMBOL bv 1392 -272 R0
SYMATTR InstName Torque
SYMATTR Value V=I(VSense_1)*K_t
SYMBOL voltage 944 144 R0
SYMATTR InstName VSense_1
SYMATTR Value 0
SYMBOL zener -96 224 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value BZX84B15VL
SYMBOL res 928 -128 R0
SYMATTR InstName R3
SYMATTR Value 2.8333
SYMBOL Misc\\xvaristor 384 224 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName NTC
SYMATTR Value S236_50
SYMBOL diode -144 -112 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
TEXT -280 472 Left 2 !.lib stp16nf06.lib
TEXT -280 504 Left 2 !.MODEL SOff SW(Ron=1e-12 Roff=1e20 Vt=0.5)
TEXT -272 448 Left 2 !.tran 60
TEXT -280 536 Left 2 !.model uf5406 d(is = 1.15563E-005 n = 3.45 rs = 0.0887337 eg = 1.11 xti = 3 cjo = 9.14327E-011 vj = 0.298558 m = 0.347605 fc = 0.5  tt = 1.57227E-007 bv = 660 ibv = 0.3 af = 1 kf = 0)
TEXT 1392 -416 Left 2 !.param K_t=150u
TEXT 800 -416 Left 2 !.param K_emf=900
TEXT -280 568 Left 2 !.lib ntc_20130313.lib
