Version 4
SHEET 1 1916 680
WIRE 944 -320 880 -320
WIRE 1760 -320 1392 -320
WIRE 944 -256 944 -320
WIRE 1392 -256 1392 -320
WIRE 1760 -256 1760 -320
WIRE -160 -128 -240 -128
WIRE 16 -128 -160 -128
WIRE 176 -128 16 -128
WIRE 416 -128 176 -128
WIRE 1760 -128 1760 -176
WIRE 944 -112 944 -176
WIRE 1392 -112 1392 -176
WIRE -240 -80 -240 -128
WIRE 16 -64 16 -128
WIRE 16 -64 -48 -64
WIRE 16 -48 16 -64
WIRE 176 -48 176 -128
WIRE -48 -32 -48 -64
WIRE 1760 0 1760 -48
WIRE -240 32 -240 -16
WIRE 944 32 944 -32
WIRE -160 48 -160 -128
WIRE -48 64 -48 32
WIRE 16 64 16 32
WIRE 16 64 -48 64
WIRE 176 96 176 16
WIRE 352 96 176 96
WIRE 416 96 352 96
WIRE 1760 128 1760 80
WIRE 176 160 176 96
WIRE 944 160 944 112
WIRE -160 176 -160 128
WIRE -112 176 -160 176
WIRE 16 176 16 64
WIRE 16 176 -48 176
WIRE 96 176 16 176
WIRE 352 192 352 96
WIRE -160 240 -160 176
WIRE 16 240 16 176
WIRE 96 240 96 176
WIRE 128 240 96 240
WIRE 96 272 96 240
WIRE 944 288 944 240
WIRE 944 288 880 288
WIRE -240 368 -240 112
WIRE -160 368 -160 304
WIRE -160 368 -240 368
WIRE 16 368 16 304
WIRE 16 368 -160 368
WIRE 96 368 96 336
WIRE 96 368 16 368
WIRE 176 368 176 256
WIRE 176 368 96 368
WIRE 352 368 352 272
WIRE 352 368 176 368
WIRE -240 400 -240 368
FLAG -240 400 0
FLAG 880 -320 Motor_+ve
FLAG 880 288 Motor_-ve
FLAG 1392 -112 0
FLAG 1760 128 0
FLAG 416 -128 Motor_+ve
FLAG 416 96 Motor_-ve
SYMBOL res 0 -64 R0
SYMATTR InstName R2
SYMATTR Value 2.2e6
SYMBOL voltage -240 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -531 56 Left 2
SYMATTR Value PULSE(0 17 1 0.005 0.005 50 500 1)
SYMATTR InstName V1
SYMBOL cap 32 304 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C2
SYMATTR Value 330e-6
SYMBOL nmos 128 160 R0
SYMATTR InstName M1
SYMATTR Value STP16NF06
SYMATTR Prefix X
SYMBOL ind 928 -272 R0
SYMATTR InstName L1
SYMATTR Value 1m
SYMBOL diode 192 16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -91 31 Left 2
SYMATTR InstName D1
SYMATTR Value uf5406
SYMBOL diode -32 32 R180
WINDOW 0 24 64 Left 2
WINDOW 3 34 29 Left 2
SYMATTR InstName D2
SYMATTR Value uf5406
SYMBOL ind 1744 -272 R0
SYMATTR InstName Inertia
SYMATTR Value 5m
SYMBOL res 1744 -144 R0
SYMATTR InstName RLoss
SYMATTR Value 4m
SYMBOL voltage 1760 -16 R0
SYMATTR InstName VSense_2
SYMATTR Value 0
SYMBOL bv 944 16 R0
SYMATTR InstName B1
SYMATTR Value V=I(VSense_2)*K_emf
SYMBOL bv 1392 -272 R0
SYMATTR InstName Torque
SYMATTR Value V=I(VSense_1)*K_t
SYMBOL voltage 944 144 R0
SYMATTR InstName VSense_1
SYMATTR Value 0
SYMBOL zener 112 336 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value BZX84B15VL
SYMBOL res 928 -128 R0
SYMATTR InstName R3
SYMATTR Value 2.8333
SYMBOL Misc\\xvaristor 368 288 R180
WINDOW 0 -60 71 Left 2
WINDOW 3 -116 32 Left 2
SYMATTR InstName NTC
SYMATTR Value S236_50
SYMBOL diode -224 -16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL res -176 32 R0
SYMATTR InstName R1
SYMATTR Value 4.7k
SYMBOL zener -144 304 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -54 5 Left 2
SYMATTR InstName D5
SYMATTR Value DZ2J036
SYMATTR Prefix X
SYMBOL diode -112 192 R270
WINDOW 0 32 46 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value 1N4148
TEXT -280 472 Left 2 !.lib stp16nf06.lib
TEXT -280 504 Left 2 !.MODEL SOff SW(Ron=1e-12 Roff=1e20 Vt=0.5)
TEXT -272 448 Left 2 !.tran 60
TEXT -280 536 Left 2 !.model uf5406 d(is = 1.15563E-005 n = 3.45 rs = 0.0887337 eg = 1.11 xti = 3 cjo = 9.14327E-011 vj = 0.298558 m = 0.347605 fc = 0.5  tt = 1.57227E-007 bv = 660 ibv = 0.3 af = 1 kf = 0)
TEXT 1392 -416 Left 2 !.param K_t=150u
TEXT 800 -416 Left 2 !.param K_emf=900
TEXT -280 568 Left 2 !.lib ntc_20130313.lib
TEXT -280 600 Left 2 !.lib dz2j036.lib
